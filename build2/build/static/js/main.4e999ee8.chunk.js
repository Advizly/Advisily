(this.webpackJsonpadvisily=this.webpackJsonpadvisily||[]).push([[0],{121:function(e,t,r){},122:function(e,t,r){},23:function(e){e.exports=JSON.parse('{"b":"https://localhost:5000/api","a":{"core":1,"concentertaion":2,"electives":3,"collateral":4,"engCore":5,"mathElec":6,"mathOrMajorElec":7}}')},260:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r.n(n),c=r(30),s=r.n(c),i=(r(121),r(2)),o=(r(122),r(12)),u=r(14),l="Advisily",d="/account",j="".concat(d,"/login"),b="".concat(d,"/sign-up"),f="".concat(d,"/reset-password"),m="".concat(d,"/verify-email"),h="".concat(d,"/forgot-password"),O="/advising",p="".concat(O,"/form"),x="".concat(O,"/results"),v=r(0);var g=function(e){var t=e.user?O:b;return Object(v.jsxs)("div",{className:"text-center home-container",children:[Object(v.jsx)("h1",{children:" Your new academic advisor is here!"}),Object(v.jsxs)("p",{className:"home-text font-italic my-4",children:[l," is an automated advisor to help you choose your courses."]}),Object(v.jsx)("div",{className:"home-buttons d-flex justify-content-center",children:Object(v.jsx)(o.b,{to:t,children:Object(v.jsx)("button",{id:"home-signup-btn",className:"btn nav-btn ",children:"Get Started!"})})})]})};var y=function(e){return Object(v.jsxs)("div",{className:" text-center p-5",children:[Object(v.jsx)("h1",{children:"Contact Us"}),Object(v.jsxs)("p",{children:["For inquiries or issues, contact us at"," ",Object(v.jsx)("a",{href:"youssefagiza@aucegypt.edu",children:"youssefagiza@aucegypt.edu "})]}),Object(v.jsxs)("p",{children:["For bugs and technical issues, please open an issue request on our"," ",Object(v.jsx)("a",{href:"https://github.com/Youssef-Agiza/AutomatedAdvisingSystem",children:"github repository."})]})]})},w=r.p+"static/media/youssef.42266403.jpg",S=r.p+"static/media/sherif.bd1c984d.jpg",I=r(7),N=["radius","alt"];var C=function(e){var t=e.radius,r=e.alt,n=Object(I.a)(e,N),a=t?{width:t,height:t}:{};return Object(v.jsxs)("div",{className:"card-image-rounded",children:[Object(v.jsx)("img",Object(i.a)(Object(i.a)({},n),{},{style:a,alt:r})),";"]})};var k=function(e){var t=e.title,r=e.subtitle,n=e.children;return Object(v.jsxs)("div",{className:"card-body",children:[Object(v.jsxs)("h4",{className:"card-title",children:[" ",t]}),Object(v.jsx)("h6",{className:"card-subtitle mb-2 text-muted",children:r}),Object(v.jsx)("p",{className:"card-text",children:n})]})},E=["children"];var T=function(e){var t=e.children,r=Object(I.a)(e,E);return Object(v.jsx)("div",Object(i.a)(Object(i.a)({className:"card "},r),{},{children:t}))},A=["children","className"];var q=function(e){var t=e.children,r=e.className,n=Object(I.a)(e,A);return r||(r=""),Object(v.jsx)("div",Object(i.a)(Object(i.a)({className:"row "+r},n),{},{children:t}))};var P=["numOfCols","children","className"];var F=function(e){var t=e.numOfCols,r=e.children,n=e.className,a=void 0===n?"":n,c=Object(I.a)(e,P);return a=a+" col-md"+(t=!t||t>12||t<0?"":"-"+t),Object(v.jsx)("div",Object(i.a)(Object(i.a)({className:a},c),{},{children:r}))};var U=function(e){return Object(v.jsxs)("div",{className:"text-center",children:[Object(v.jsx)("div",{children:Object(v.jsx)("h1",{children:"About"})}),Object(v.jsxs)(q,{className:"d-flex justify-content-center",children:[Object(v.jsx)(F,{numOfCols:"6",className:"d-flex justify-content-center",children:Object(v.jsxs)(T,{children:[Object(v.jsx)(C,{src:S,alt:"Sherif Aly"}),Object(v.jsx)(k,{title:"Sherif Aly",subtitle:"Professor and Chair (American University in Cairo)",children:"Professor Sherif Aly is a professor and Chair of the Department of Computer Science, with significant industrial and governmental consultation experience."})]})}),Object(v.jsx)(F,{numOfCols:"6",className:"d-flex justify-content-center",children:Object(v.jsxs)(T,{children:[Object(v.jsx)(C,{src:w,alt:"Youssef Agiza"}),Object(v.jsx)(k,{title:"Youssef Agiza",subtitle:"Undergraduate Student (American University in Cairo)",children:"Youssef Agiza is an undergraduate student at the American University in Cairo majoring in computer science and mathematics."})]})})]})]})};var M=function(e){return Object(v.jsx)("div",{className:"copy-right",children:Object(v.jsxs)("p",{children:["2021 \xa9",Object(v.jsx)("a",{className:"navbar-brand",href:"https://www.aucegypt.edu/home",children:"The American University in Cairo."}),"All rights reserved."]})})};var R=function(e){return Object(v.jsxs)("footer",{className:"d-flex justify-content-between app-footer",children:[Object(v.jsx)(M,{}),Object(v.jsxs)(q,{className:"footer-links ",children:[Object(v.jsx)(F,{numOfCols:"auto",children:Object(v.jsx)(o.c,{to:"/about-us",children:"About Us"})}),Object(v.jsx)(F,{numOfCols:"auto",children:Object(v.jsx)(o.c,{to:"/contact-us",children:"Contact Us"})})]})]})};var _=function(e){var t=e.children;return Object(v.jsx)("nav",{className:"navbar app-header navbar-expand-lg navbar-dark ",children:t})},L=["label","extraClasses","to"];var V=function(e){var t=e.label,r=e.extraClasses,n=void 0===r?"":r,a=e.to,c=void 0===a?"":a,s=Object(I.a)(e,L);return Object(v.jsx)("li",Object(i.a)(Object(i.a)({className:"navbar-item mx-2 "+n},s),{},{children:Object(v.jsx)(o.c,{to:c,className:"nav-link ",children:t})}))},D=["children","extraClasses"];var W=function(e){var t=e.children,r=e.extraClasses,n=void 0===r?"":r,a=Object(I.a)(e,D);return Object(v.jsx)("ul",Object(i.a)(Object(i.a)({className:"navbar-nav nav-list "+n},a),{},{children:t}))},H=r.p+"static/media/auc-logo.fb665a08.png";var Y=function(){return Object(v.jsx)("div",{className:"container bg-light rounded logo ",children:Object(v.jsx)("img",{src:H,width:100,height:60,alt:"The American University in Cairo logo"})})};var z=function(e){return Object(v.jsx)("div",{className:"navbar-item brand-title",children:Object(v.jsx)("h1",{id:"brand",children:l})})},J=r(6),X=r(3),B=r.n(X),K=r(5),$=r(37),G=r.n($);console.log("HEREEE: ",Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ENV:"production",REACT_APP_API_URL:"http://10.7.60.113:5000/api"})),G.a.defaults.baseURL="http://10.7.60.113:5000/api",G.a.interceptors.response.use(null,(function(e){if(!(e.response&&e.response.status>=400&&e.response.status<500))throw console.log("Logging unexpected expected error: ",e),alert("An unexpected error occurred."),e;return Promise.reject(e)}));var Z={get:G.a.get,post:G.a.post,delete:G.a.delete,put:G.a.put,setJwt:function(e){G.a.defaults.headers.common["x-auth-token"]=e}},Q=r(73),ee="/advising",te=function(){var e=Object(K.a)(B.a.mark((function e(){var t,r;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.get(ee);case 2:return t=e.sent,r=t.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),re=function(){var e=Object(K.a)(B.a.mark((function e(t){var r,n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.get(ee,{params:{userId:t}});case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=Object(K.a)(B.a.mark((function e(t){var r,n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.post(ee,t);case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=Object(K.a)(B.a.mark((function e(t){var r,n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.put(ee,t);case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ce=function(){var e=Object(K.a)(B.a.mark((function e(t){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.post("".concat(ee,"/generate-plan"),{advisingSessionId:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=Object(K.a)(B.a.mark((function e(t){var r,n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.get("".concat(ee,"/").concat(t,"/results/courses"));case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ie=function(){var e=Object(K.a)(B.a.mark((function e(t){var r,n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.get("".concat(ee,"/").concat(t,"/results"));case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=function(e){localStorage.setItem("advisingSessionId",e)},ue=function(){var e=Object(K.a)(B.a.mark((function e(t){var r,n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.get("".concat(ee,"/getUserAdvisingId/").concat(t));case 2:return r=e.sent,n=r.data,e.abrupt("return",n.advisingSessionId);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),le={getAdvisingSessions:te,getAdvisingSession:re,addAdvisingSession:ne,updateAdvisingSessions:ae,generatePlan:ce,getAdvisingResults:ie,getAdvisingResultCourses:se,saveAdvisingSession:oe,retrieveAdvisingSession:function(){return localStorage.getItem("advisingSessionId")}},de="/users",je=function(){var e=Object(K.a)(B.a.mark((function e(t){var r,n,a;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.get("".concat(de,"/user"),{params:{userId:t}});case 2:if(r=e.sent,n=r.data,a=r.headers,n){e.next=7;break}return e.abrupt("return",null);case 7:return e.abrupt("return",{user:n,token:a["x-auth-token"]});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),be=function(){var e=Object(K.a)(B.a.mark((function e(){var t,r;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.get("".concat(de));case 2:return t=e.sent,r=t.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),fe=function(){var e=Object(K.a)(B.a.mark((function e(t){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.post("".concat(de,"/validate-reset-token"),{token:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),me=function(){var e=Object(K.a)(B.a.mark((function e(t,r){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.post("".concat(de,"/reset-password"),{token:t,password:r});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),he=function(){var e=Object(K.a)(B.a.mark((function e(t){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.post("".concat(de,"/forgot-password"),{email:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(K.a)(B.a.mark((function e(t){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.post("".concat(de,"/resend-verification"),{email:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pe=function(){var e=Object(K.a)(B.a.mark((function e(t){var r,n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.get("".concat(de,"/user-majors"),{params:{userId:t}});case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xe=function(){var e=Object(K.a)(B.a.mark((function e(t){var r,n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.get("".concat(de,"/user-minors"),{params:{userId:t}});case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ve=function(){var e=Object(K.a)(B.a.mark((function e(t){var r,n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.get("".concat(de,"/user-courses"),{params:{userId:t}});case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ge=function(){var e=Object(K.a)(B.a.mark((function e(t,r){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.post("".concat(de,"/user-courses"),{userId:t,courseId:r});case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),ye=function(){var e=Object(K.a)(B.a.mark((function e(t,r){var n,a;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={data:{userId:t,courseId:r}},e.next=3,Z.delete("".concat(de,"/user-courses"),n);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),we=function(){var e=Object(K.a)(B.a.mark((function e(t,r,n){var a;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.post("".concat(de,"/user-majors"),{userId:t,majorId:r,catalogId:n});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),Se=function(){var e=Object(K.a)(B.a.mark((function e(t,r){var n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.delete("".concat(de,"/user-majors"),{data:{userId:t,majorId:r}});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Ie=function(){var e=Object(K.a)(B.a.mark((function e(t,r){var n,a;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={userId:t,minorId:r},e.next=3,Z.post("".concat(de,"/user-minors"),n);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(K.a)(B.a.mark((function e(t,r){var n,a;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={data:{userId:t,minorId:r}},e.next=3,Z.delete("".concat(de,"/user-minors"),n);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Ce={register:function(e){return Z.post("".concat(de,"/register"),e)},update:function(){var e=Object(K.a)(B.a.mark((function e(t,r){var n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.put("".concat(de,"/").concat(t),r);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),getUser:je,getUsers:be,getStudentMajors:pe,getStudentMinors:xe,getStudentCourses:ve,addStudentCourse:ge,deleteStudentCourse:ye,addStudentMajor:we,deleteStudentMajor:Se,addStudentMinor:Ie,deleteStudentMinor:Ne},ke="token",Ee=function(){return localStorage.getItem(ke)};Z.setJwt(Ee());var Te=function(e){localStorage.setItem(ke,e);var t=Pe().advisingSessionId;oe(t),Z.setJwt(Ee())},Ae=function(){var e=Object(K.a)(B.a.mark((function e(t){var r,n,a,c;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.email,n=t.password,e.next=3,Z.post("/users/login",{email:r,password:n});case 3:a=e.sent,c=a.data,localStorage.setItem(ke,c);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),qe=function(){var e=Object(K.a)(B.a.mark((function e(t){var r,n,a;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,je(t.userId);case 3:if(r=e.sent,n=r.user,a=r.token,n){e.next=7;break}throw new Error("Error refreshing user");case 7:if(n.isVerified){e.next=9;break}return e.abrupt("return",t);case 9:return Te(a),e.abrupt("return",Object(Q.a)(a));case 13:e.prev=13,e.t0=e.catch(0),console.log("From refreshUser",e.t0,t);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),Pe=function(){try{var e=localStorage.getItem(ke);return Object(Q.a)(e)}catch(t){return null}},Fe={login:Ae,logout:function(){localStorage.removeItem(ke)},getCurrentUser:Pe,loginWithJwt:Te,getJwt:Ee,refreshUser:qe};var Ue=function(e){var t=Object(n.useState)(Fe.getCurrentUser()),r=Object(J.a)(t,2),a=r[0],c=r[1];return Object(n.useEffect)((function(){e&&Fe.refreshUser(a).then((function(e){return c(e)}))}),[e]),a};var Me=function(e){var t=Ue();return t?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("h1",{className:"",children:"Profile"}),Object(v.jsxs)("p",{children:[Object(v.jsx)("strong",{children:"Name: "})," ",t.firstName+" "+t.lastName]}),Object(v.jsxs)("p",{children:[Object(v.jsx)("strong",{children:"Email: "})," ",t.email]}),Object(v.jsxs)("p",{children:[Object(v.jsx)("strong",{children:"Student ID: "})," ",t.userId]})]}):null};var Re=function(e){return Object(n.useEffect)((function(){Fe.logout(),window.location="/"}),[]),null},_e="/logout";var Le=function(e){var t=e.user;return Object(v.jsxs)(_,{children:[Object(v.jsxs)(F,{numOfCols:"4",className:"d-flex",children:[Object(v.jsx)(o.c,{className:"navbar-brand ",to:"/",children:Object(v.jsx)(Y,{})}),Object(v.jsxs)(W,{children:[Object(v.jsx)(V,{label:"Home",to:"/"}),t&&Object(v.jsx)(V,{label:"Advise",to:"/advising"})]})]}),Object(v.jsx)(F,{numOfCols:"4",children:Object(v.jsx)(z,{})}),Object(v.jsx)(F,{numOfCols:"auto",children:Object(v.jsxs)(W,{extraClasses:"nav-right",children:[!t&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(V,{to:j,label:"Login"}),Object(v.jsx)(V,{to:b,label:"Sign Up",extraClasses:"btn",id:"nav-signup-btn"})]}),t&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(V,{to:"/me",label:t.firstName}),Object(v.jsx)(V,{to:_e,label:"Logout",extraClasses:"btn"})]})]})})]})};var Ve=function(e){return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("h1",{className:"text-center my-4",children:"Sorry, Page Not Found!"})})},De="/not-found";var We=function(e){return Object(v.jsx)("div",{className:"d-flex justify-content-center",children:Object(v.jsxs)("div",{className:"frame",children:[Object(v.jsx)("h1",{className:"text-center mb-3",children:"Advising"}),Object(v.jsxs)("h3",{children:["Why ",l,"?"]}),Object(v.jsxs)("ul",{children:[Object(v.jsxs)("li",{children:[Object(v.jsx)("strong",{children:"No more waiting!"}),Object(v.jsx)("p",{children:"with an automated advisor you don't need to schedule an appointment and wait for your turn."})]}),Object(v.jsxs)("li",{children:[Object(v.jsx)("strong",{children:"Quick"}),Object(v.jsx)("p",{children:"You are only a couple of button presses away from your plan."})]}),Object(v.jsxs)("li",{children:[Object(v.jsx)("strong",{children:"See ahead in the future"}),Object(v.jsx)("p",{children:"We will create for you a plan up until graduation. However, seeing further ahead in the future is less accurate."})]})]}),Object(v.jsx)("h3",{children:"Important notes "}),Object(v.jsxs)("li",{children:[Object(v.jsx)("strong",{children:"It is not perfect"}),Object(v.jsx)("p",{children:"This is just an automated advisor that is meant to help you with your advising. It is still subject to error, so you have to review the results and ensure there are no problem. If you have any doubts about your results, you may schedule an appointment with your human advisor."})]}),Object(v.jsxs)("li",{children:[Object(v.jsx)("strong",{children:"Seeing ahead in the future is not accurate"}),Object(v.jsx)("p",{children:"The more semesters generated ahead of time, the less accurate the results."})]}),Object(v.jsxs)("div",{className:"my-5 text-center",children:[Object(v.jsx)(o.b,{to:"/advising/form",className:"m-4",children:Object(v.jsx)("button",{className:"btn btn-primary btn-lg",children:"Let's get started!"})}),Object(v.jsx)(o.b,{to:"/advising/results",children:Object(v.jsx)("button",{className:"btn btn-lg",children:" Previous result"})})]})]})})},He=r(23),Ye=function(e){var t=e.courseId,r=e.courseCode,n=e.courseTitle;return{courseId:t,formatedTitle:e.prefix+" "+(r<0?"XXX":r)+" - "+n}};var ze=function(e,t){var r=Object(n.useState)(!1),a=Object(J.a)(r,2),c=a[0],s=a[1],i=Object(n.useState)(null),o=Object(J.a)(i,2),u=o[0],l=o[1],d=Object(n.useState)(!1),j=Object(J.a)(d,2),b=j[0],f=j[1],m=Object(n.useState)([]),h=Object(J.a)(m,2),O=h[0],p=h[1];return{data:O,loading:c,error:u,failedToLoad:b,request:function(){var r=Object(K.a)(B.a.mark((function r(){var n,a=arguments;return B.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return s(!0),r.prev=1,r.next=4,e.apply(void 0,a);case 4:n=r.sent,void 0!==t&&(n=t(n)),p(n),r.next=14;break;case 9:r.prev=9,r.t0=r.catch(1),l(r.t0),f(!1),console.error("Error in useApi: ",r.t0,e);case 14:s(!1);case 15:case"end":return r.stop()}}),r,null,[[1,9]])})));return function(){return r.apply(this,arguments)}}()}};var Je=function(e){var t=Pe(),r=Object(n.useState)(null),a=Object(J.a)(r,2),c=a[0],s=a[1],i=ze(ie),u=ze(ue,(function(e){return s(e)}));Object(n.useEffect)((function(){c&&t&&i.request(c)}),[c]),Object(n.useEffect)((function(){t&&t.userId&&u.request(t.userId)}),[t.userId]);var l=function(e){return e.map((function(e){var t=Ye(e),r=t.courseId,n=t.formatedTitle;return 1!==r&&2!==r||(r="".concat(r)+100*Math.random()*Math.random()),Object(v.jsx)("li",{children:n},r)}))},d=function(){return i.data&&i.data.semesters&&i.data.semesters.length};return Object(v.jsx)("div",{className:"d-flex justify-content-center",children:Object(v.jsxs)("div",{className:"frame ",children:[d()?function(){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("h1",{className:"text-center",children:"Your results are here!"}),Object(v.jsx)("br",{}),Object(v.jsx)("h3",{className:"text-center",children:"Advised Courses"}),(e=i.data,console.log("RESULT: ,",e),e&&e.semesters?e.semesters.map((function(e){var t=e.semesterNumber,r=function(e){return e.sort((function(e,t){return e.prefix<t.prefix?-1:e.prefix>t.prefix?1:e.courseCode<t.courseCode?-1:e.courseCode>t.courseCode?1:e.courseTitle<t.courseTitle?-1:1}))}(e.courses),n=r.map((function(e){return null!==e.credits?e.credits:3})).reduce((function(e,t){return e+t}));return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("h5",{children:["Semester Number ",t]}),l(r),Object(v.jsx)("br",{}),Object(v.jsxs)("p",{children:[Object(v.jsx)("strong",{children:"Total Credits: "}),n]}),Object(v.jsx)("hr",{})]})})):null)]});var e}():Object(v.jsxs)("div",{className:"text-center",children:[Object(v.jsx)("h2",{children:"Results"}),Object(v.jsx)("h4",{children:"No results available yet or you have not done advising"})]}),Object(v.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(v.jsx)(o.b,{to:"/advising/form",replace:!0,children:Object(v.jsx)("button",{className:"btn",children:"New Advising Session?"})}),!!d()&&Object(v.jsx)("button",{className:"btn btn-primary",children:"Verify Results"})]})]})})};var Xe=r(13);var Be=function(e){var t=e.title,r=e.children;return Object(v.jsx)("div",{className:"d-flex justify-content-center ",children:Object(v.jsxs)("div",{className:"frame ",children:[Object(v.jsx)("h1",{className:"text-center mb-4 ",children:t}),r]})})},Ke=["errorMessage"];var $e=function(e){var t=e.errorMessage,r=void 0===t?"One or more required field(s) is invalid":t,n=Object(I.a)(e,Ke),a=Object(Xe.d)(),c=a.isValid,s=a.submitCount,o=a.status;if(s<1||c&&!o)return null;var u=n.className?"alert alert-danger "+n.className:"alert alert-danger";return o&&o.error&&(r=o.error),Object(v.jsx)("div",Object(i.a)(Object(i.a)({className:u},n),{},{children:r}))},Ge=["initialValues","validationSchema","onSubmit","title","errorMessage","children"];var Ze=function(e){var t=e.initialValues,r=e.validationSchema,n=e.onSubmit,a=e.title,c=e.errorMessage,s=e.children,o=Object(I.a)(e,Ge);return Object(v.jsx)(Xe.b,Object(i.a)(Object(i.a)({initialValues:t,validationSchema:r,onSubmit:n},o),{},{children:Object(v.jsxs)(Be,{title:a,children:[Object(v.jsx)(Xe.a,{children:s}),Object(v.jsx)($e,{errorMessage:c})]})}))},Qe=["name"];var et=function(e){var t=e.name,r=Object(I.a)(e,Qe),n=(0,Object(Xe.d)().getFieldMeta)(t),a=n.error,c=n.touched;return a&&c?Object(v.jsx)("div",Object(i.a)(Object(i.a)({className:"clr-danger"},r),{},{children:a})):null},tt=["label","visible"];var rt=function(e){var t=e.label,r=e.visible,n=void 0===r||r,a=Object(I.a)(e,tt),c=Object(Xe.c)(a),s=Object(J.a)(c,2),o=s[0],u=s[1],l=u.error,d=u.touched;if(!n)return null;var j=l&&d?"form-control is-invalid":"form-control";return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{className:"form-label",htmlFor:a.name||a.id,children:t}),Object(v.jsx)("input",Object(i.a)(Object(i.a)({className:j,"aria-invalid":l},o),a))]}),Object(v.jsx)(et,{name:a.name})]})},nt=["label","changeButton","visible"];var at=function(e){var t=e.label,r=e.changeButton,a=void 0!==r&&r,c=e.visible,s=void 0===c||c,o=Object(I.a)(e,nt),u=Object(Xe.c)(o),l=Object(J.a)(u,2),d=l[0],j=l[1],b=j.error,f=j.touched,m=Object(n.useState)(!a),h=Object(J.a)(m,2),O=h[0],p=h[1];if(!s)return null;var x=b&&f&&!o.disabled?"form-control is-invalid":"form-control";return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{className:"form-group",children:[t&&Object(v.jsx)("label",{className:"form-label",children:t}),Object(v.jsxs)("div",{className:"d-flex",children:[Object(v.jsx)("select",Object(i.a)(Object(i.a)({className:x,"aria-invalid":b,disabled:!O},d),o)),a&&Object(v.jsx)("button",{className:"btn-link",onClick:function(){return p(!O)},type:"button",children:"change?"})]})]}),Object(v.jsx)(et,{name:o.name})]})},ct=["label"];var st=function(e){var t=e.label,r=void 0===t?"Submit":t,n=Object(I.a)(e,ct),a=Object(Xe.d)().isSubmitting;return Object(v.jsx)("div",{className:"my-3 d-flex flex-column",children:Object(v.jsx)("button",Object(i.a)(Object(i.a)({disabled:a,className:"btn ms-auto",type:"submit"},n),{},{children:r}))})},it=["label"];var ot=function(e){var t=e.label,r=Object(I.a)(e,it),n=Object(Xe.c)(Object(i.a)(Object(i.a)({},r),{},{type:"checkbox"})),a=Object(J.a)(n,2),c=a[0],s=a[1].error?"form-check-input is-invalid":" form-check-input",o=c.checked?"form-check-disabled ":"";return Object(v.jsxs)("div",{className:"form-check "+o,children:[Object(v.jsx)("label",{htmlFor:r.value,className:"form-check-label",children:t}),Object(v.jsx)("input",Object(i.a)(Object(i.a)({type:"checkbox",id:r.value,className:s},c),r))]})},ut=["label"];var lt=function(e){var t=e.label,r=Object(I.a)(e,ut),n=Object(Xe.c)(Object(i.a)(Object(i.a)({},r),{},{type:"radio"})),a=Object(J.a)(n,2),c=a[0],s=a[1],o=s.error,u=s.touched,l=o&&u?"form-check-input is-invalid":" form-check-input";return Object(v.jsx)("div",{className:"form-check",children:Object(v.jsxs)("label",{htmlFor:r.name,className:"form-check-label",children:[Object(v.jsx)("input",Object(i.a)(Object(i.a)({type:"radio",className:l,checked:c.value},c),r)),t]})})},dt=["label","labelClass"];var jt=function(e){var t=e.label,r=e.labelClass,n=Object(I.a)(e,dt);return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{className:"form-group",children:[t&&Object(v.jsx)("label",{className:"form-label "+r,children:t}),n.children]}),Object(v.jsx)(et,{name:n.name})]})},bt=["name","label","trueLabel","falseLabel"];var ft=function(e){var t=e.name,r=e.label,n=e.trueLabel,a=void 0===n?"yes":n,c=e.falseLabel,s=void 0===c?"no":c,o=Object(I.a)(e,bt);return Object(v.jsxs)(jt,{name:t,label:r,children:[Object(v.jsx)(lt,Object(i.a)({label:a,name:t,value:"true"},o)),Object(v.jsx)(lt,Object(i.a)({label:s,name:t,value:"false"},o))]})},mt=["defaultOption","items","idSelector","nameSelector","valueSelector"];var ht=function(e){var t=e.defaultOption,r=e.items,n=e.idSelector,a=void 0===n?"id":n,c=e.nameSelector,s=void 0===c?"name":c,o=e.valueSelector,u=void 0===o?"id":o,l=Object(I.a)(e,mt);return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(at,Object(i.a)(Object(i.a)({},l),{},{children:[t&&Object(v.jsx)("option",{value:"",disabled:!0,children:t}),r.map((function(e){return Object(v.jsx)("option",{value:e[u],children:e[s]},e[a])}))]}))})},Ot=r(21),pt="coursesIds",xt="generalElecCredits",vt="exemptedCredits",gt=r(263),yt=r(264);var wt=function(e){var t=e.show,r=e.onClose,a=e.courses,c=e.prefixes,s=function(){l(""),r()},i=Object(n.useState)(null),o=Object(J.a)(i,2),u=o[0],l=o[1],d=function(e){var t={};return e.forEach((function(e){var r=e.prefix;"XXXX"!==r&&(void 0!==t[r]?t[r].push(e):t[r]=[e])})),t}(a);return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(gt.a,{size:"xl",show:t,onHide:s,scrollable:!0,dialogClassName:"modal-lg",children:[Object(v.jsx)(gt.a.Header,{closeButton:!0,children:Object(v.jsx)(gt.a.Title,{children:u?"Courses":"Prefix"})}),Object(v.jsx)(gt.a.Body,{children:u?d[u].map((function(e){var t=Ye(e),r=t.courseId,n=t.formatedTitle;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(ot,{label:n,name:pt,value:JSON.stringify(r)}),Object(v.jsx)("hr",{})]})})):c.sort((function(e,t){return e<t?-1:t<e?1:0})).map((function(e){return"XXXX"===e?null:Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("button",{onClick:function(){return l(e)},children:e},e),Object(v.jsx)("hr",{}),Object(v.jsx)("br",{})]})}))}),Object(v.jsxs)(gt.a.Footer,{children:[u&&Object(v.jsx)(yt.a,{variant:"secondary",className:"me-auto",onClick:function(){return l("")},children:"back"}),Object(v.jsx)(yt.a,{variant:"secondary",onClick:s,children:"Close"}),Object(v.jsx)(yt.a,{variant:"primary",onClick:s,children:"Save Changes"})]})]})})},St="/academics/courses",It=function(){var e=Object(K.a)(B.a.mark((function e(){var t,r;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.get(St);case 2:return t=e.sent,r=t.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Nt=function(){var e=Object(K.a)(B.a.mark((function e(t){var r,n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.get("".concat(St,"/prefixes"));case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ct="/catalogs",kt="".concat(Ct,"/courses"),Et=("".concat(Ct,"/plans/courses"),function(){var e=Object(K.a)(B.a.mark((function e(t){var r,n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",[]);case 2:return e.next=4,Z.get(Ct,{params:{majorId:t}});case 4:return r=e.sent,n=r.data,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Tt=function(){var e=Object(K.a)(B.a.mark((function e(t){var r,n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("calling getCatCourses",t),e.next=3,Z.get(kt,{params:{catalogId:t}});case 3:return r=e.sent,n=r.data,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var At=function(){var e=Object(Xe.d)(),t=e.values,r=e.setFieldValue,a=ze(Nt),c=ze(Tt,qt),s=ze(It);Object(n.useEffect)((function(){a.request(),s.request()}),[]),Object(n.useEffect)((function(){t.catalogId&&c.request(t.catalogId)}),[t.catalogId]);var i,o=function(e){var n=e.target,a=n.name,c=n.checked,s=n.value,i=t[a].map((function(e){return e}));r(a,c?[].concat(Object(Ot.a)(i),[s]):i.filter((function(e){return e!==s})))},u=function(e){var r=t.coursesIds.map((function(e){return parseInt(e)})),n=e.requisites;return!n.length||(!r.includes(e.courseId)||n.some((function(e){return e.every((function(e){return 1===e.requisiteTypeId?r.includes(e.courseId):2!==e.requisiteTypeId&&3!==e.requisiteTypeId||r.includes(e.courseId)}))})))},l=Object(n.useState)(!1),d=Object(J.a)(l,2),j=d[0],b=d[1],f=function(e){return e.map((function(e){var t=Ye(e),r=t.courseId,n=t.formatedTitle;return Object(v.jsxs)(F,{children:[Object(v.jsx)(ot,{label:n,name:pt,value:JSON.stringify(r),onChange:o}),!u(e)&&Object(v.jsxs)("div",{className:"alert alert-warning",children:[Object(v.jsx)("strong",{children:"Warning:"})," Did you fulfill the prerequisites/corequisite for this course?"]})]},r)}))};return t.catalogId?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("button",{type:"button",onClick:function(){window.confirm("Are you sure you want to uncheck all the courses?")&&r(pt,[])},className:" btn btn-sm float-end my-2",children:"Uncheck all?"}),Object(v.jsx)("br",{}),Object(v.jsxs)(jt,{name:pt,label:"Please select all the courses you will have finished by the end of the current semester:",labelClass:"fs-4 fw-bold",children:[Object(v.jsx)("p",{className:"clr-danger fs-4 fw-bold",children:"(exempted and transferred courses, as well)"}),Object(v.jsx)("br",{}),(i=c.data,i.map((function(e){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("h5",{children:e.courseType}),(t=e.courses,t.map((function(e){return Object(v.jsx)(q,{children:f(e)},"key"+e[0].courseId)}))),Object(v.jsx)("hr",{})]});var t}))),Object(v.jsx)("h5",{children:"General Electives"}),Object(v.jsx)("button",{className:"btn btn-secondary",type:"button",onClick:function(){return b(!0)},children:"Add general electives"}),Object(v.jsx)(wt,{show:j,onClose:function(){return b(!1)},prefixes:a.data,courses:s.data}),Object(v.jsx)("br",{}),Object(v.jsx)("hr",{}),Object(v.jsx)(rt,{name:vt,label:"How many credits(if any) are you exempted from?",type:"number"}),Object(v.jsx)("hr",{})]})]}):Object(v.jsx)("p",{className:"text-center",children:"Please select you declaration catalog catalog first."})};function qt(e){var t=function(e){var t=[],r={};return e.forEach((function(e){var n=e.courseTypeId,a=e.courseType;if(n!==He.a.mathElec&&n!==He.a.mathOrMajorElec||(n=He.a.electives,a="Major Electives"),void 0===r[n])r[n]=t.length,t.push({courseType:a,courses:[e]});else{var c=r[n];t[c].courses.push(e)}})),t}(e);return t.forEach((function(e){e.courses.sort((function(e,t){return e.prefix<t.prefix?-1:t.prefix>e.prefix?1:e.courseCode-t.courseCode})),e.courses=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,r=[],n=[],a=1;a<=e.length;a++)n.push(e[a-1]),a%t!==0&&a!==e.length||(r.push(n),n=[]);return r}(e.courses,3)})),t.sort((function(e,t){return e.courseType<t.courseType?-1:e.courseType>t.courseType})),t}var Pt=function(e){return"boolean"===typeof e?e:"string"!==typeof e?null:"true"===e.toLowerCase().trim()||"false"!==e.toLowerCase().trim()&&null},Ft=function(){var e=Object(K.a)(B.a.mark((function e(){var t,r;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.get("/advising/paces");case 2:return t=e.sent,r=t.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ut="overloading",Mt="takingSummer",Rt="takingWinter",_t="overloadingCredits",Lt="summerCredits",Vt="winterCredits",Dt="paceId",Wt="semestersToPlan",Ht=[{id:"1",name:1},{id:"2",name:2},{id:"3",name:3},{id:"4",name:4},{id:"5",name:5},{id:"6",name:6},{id:"7",name:7},{id:"8",name:8},{id:"9",name:9},{id:"10",name:10}];var Yt=function(){var e=Object(Xe.d)(),t=e.values,r=e.setFieldValue,a=(t.takingSummer,t.takingWinter,t.overloading),c=Object(n.useState)([]),s=Object(J.a)(c,2),i=(s[0],s[1]);return Object(n.useEffect)((function(){Ft().then((function(e){return i(e)}))}),[]),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(ft,{name:Ut,label:"Are you willing to overload in the next semester?",onChange:function(e){!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;r(e.name,e.value),!1===Pt(e.value)&&r(t,n)}(e.target,"overloadingCredits")}}),Object(v.jsx)(rt,{type:"number",name:_t,label:"How many crdeits are you taking next semester IN TOTAL:",min:1,visible:Pt(a)}),Object(v.jsx)("hr",{})]})},zt="/academics/majors",Jt=function(){var e=Object(K.a)(B.a.mark((function e(t){var r,n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.get(zt,{params:{majorId:t}});case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Xt="/academics/minors",Bt=function(){var e=Object(K.a)(B.a.mark((function e(){var t,r;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.get(Xt);case 2:return t=e.sent,r=t.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Kt=function(){var e=Object(n.useState)([]),t=Object(J.a)(e,2),r=t[0],a=t[1],c=Object(n.useState)([]),s=Object(J.a)(c,2),i=s[0],o=s[1];return Object(n.useEffect)((function(){Jt().then((function(e){a(function(e){return e.map((function(e){return{id:e.majorId,name:e.majorTitle}}))}(e))})),Bt().then((function(e){return o(function(e){return e.map((function(e){return{id:e.minorId,name:e.minorTitle}}))}(e))}))}),[]),{majors:r,minors:i}};var $t=function(e){var t=Object(n.useState)([]),r=Object(J.a)(t,2),a=r[0],c=r[1];return Object(n.useEffect)((function(){Et(e).then((function(e){c(function(e){return e.map((function(e){return{id:e.catalogId,name:e.year}}))}(e))}))}),[e]),{catalogs:a}},Gt="majorId",Zt="catalogId",Qt="minorIds",er="secondMajorId",tr="secondCatalogId",rr="isDoubleMajoring",nr="isMinoring",ar="standingId",cr="semesterNumber",sr=He.b+"/academics/standings",ir=function(){var e=Object(K.a)(B.a.mark((function e(){var t,r;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.get(sr);case 2:return t=e.sent,r=t.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();var or=function(){var e=Object(n.useState)([]),t=Object(J.a)(e,2),r=t[0],a=t[1];Object(n.useEffect)((function(){ir().then((function(e){return a(e)})).catch((function(e){return console.log("Error: ",e)}))}),[]);var c=Object(Xe.d)(),s=c.values,i=c.setFieldValue,o=s.isMinoring,u=s.isDoubleMajoring,l=Kt(),d=l.majors,j=(l.minors,$t(s.majorId).catalogs);return $t(s.secondMajorId).catalogs,Object(n.useEffect)((function(){var e=!0;return!Pt(o)&&e&&i(Qt,[]),!Pt(u)&&e&&(i(er,""),i(tr,"")),function(){e=!1}}),[u,o,i]),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(ht,{label:"What is your current standing?",items:r,name:ar,defaultOption:"--select standing--",idSelector:"standingId",nameSelector:"standing",valueSelector:"standingId"}),Object(v.jsx)(ht,{label:"Which semester number is this one?",defaultOption:"--select a semester--",items:Ht,name:cr}),Object(v.jsx)("p",{className:"my-1",children:"(The number of semesters you have taken starting from English 0210 or RHET 1010)"}),Object(v.jsx)("br",{}),Object(v.jsx)(ht,{label:"What is your major?",items:d,name:Gt,defaultOption:"--select a major--",onChange:function(e){var t=e.target;i(Zt,""),i(Gt,t.value)}}),Object(v.jsx)("br",{}),Object(v.jsx)(ht,{label:"Which catalog are you follwoing? (declaration catalog)",name:Zt,items:j,defaultOption:"--select a catalog--",visible:s.majorId})]})},ur=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=Object(n.useState)(e),r=Object(J.a)(t,2),a=r[0],c=r[1],s=function(){c(a+1)},i=function(){c(a-1)};return{step:a,next:s,back:i}};var lr,dr,jr,br,fr,mr,hr=function(e){var t=Object(n.useState)([]),r=Object(J.a)(t,2),a=r[0],c=r[1],s=Object(n.useState)(0),i=Object(J.a)(s,2),o=i[0],u=i[1],l=function(){var e=Object(K.a)(B.a.mark((function e(t){var r;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re(t);case 2:if((r=e.sent).length){e.next=5;break}return e.abrupt("return");case 5:u(r[0].generalElecCredits);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(K.a)(B.a.mark((function e(t){var r,n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ve(t);case 2:r=e.sent,n=r.map((function(e){return JSON.stringify(e.courseId)})),c(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){var e=Pe();e&&(d(e.userId),l(e.userId))}),[]),{coursesIds:a,generalElecCredits:o}},Or=function(){var e=Object(n.useState)({majorId:"",catalogId:""}),t=Object(J.a)(e,2),r=t[0],a=t[1],c=Object(n.useState)({secondMajorId:"",secondCatalogId:"",isDoubleMajoring:"false"}),s=Object(J.a)(c,2),o=s[0],u=s[1],l=Object(n.useState)({minorIds:[],isMinoring:"false"}),d=Object(J.a)(l,2),j=d[0],b=d[1],f=function(){var e=Object(K.a)(B.a.mark((function e(t){var r;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe(t);case 2:(r=e.sent)&&r.length&&a({majorId:r[0].majorId,catalogId:r[0].catalogId}),r&&r.length>1&&u({secondMajorId:r[1].majorId,secondCatalogId:r[1].catalogId,isDoubleMajoring:"true"});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(K.a)(B.a.mark((function e(t){var r,n,a;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe(t);case 2:r=e.sent,n=r.map((function(e){return e.minorId})),a=n.length?"true":"false",b({minorIds:n,isMinoring:a});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=Ue();return Object(n.useEffect)((function(){h&&(f(h.userId),m(h.userId))}),[h]),Object(i.a)(Object(i.a)(Object(i.a)({},r),o),j)},pr=function(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;console.log("HERE",e,t,a),!a&&t?Ce.addStudentMajor(e,t,r):!a||t===a&&n===r||(Ce.deleteStudentMajor(e,a),Ce.addStudentMajor(e,t,r))},xr=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=t.filter((function(e){return-1===r.indexOf(e)})),a=r.filter((function(e){return-1===t.indexOf(e)}));n.forEach((function(t){return Ce.addStudentMinor(e,t)})),a.forEach((function(t){return Ce.deleteStudentMinor(e,t)}))},vr=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=t.filter((function(e){return-1===r.indexOf(e)})),a=r.filter((function(e){return-1===t.indexOf(e)}));n.forEach((function(t){return Ce.addStudentCourse(e,t)})),a.forEach((function(t){return Ce.deleteStudentCourse(e,t)}))},gr=r(8),yr=r(4),wr="This field is required",Sr=gr.d((lr={},Object(yr.a)(lr,Gt,gr.f().required(wr)),Object(yr.a)(lr,Zt,gr.f().required(wr)),Object(yr.a)(lr,nr,gr.b().required(wr)),Object(yr.a)(lr,Qt,gr.a().required()),Object(yr.a)(lr,rr,gr.b().required(wr)),Object(yr.a)(lr,er,gr.f().notRequired().when(rr,{is:!0,then:gr.f().required(wr).notOneOf([gr.e(Gt),null],"You can't select the same major")})),Object(yr.a)(lr,tr,gr.f().notRequired().when(rr,{is:!0,then:gr.f().required(wr)})),Object(yr.a)(lr,ar,gr.f().required(wr)),Object(yr.a)(lr,cr,gr.f().required(wr)),lr)),Ir="This field is required",Nr=gr.d((dr={},Object(yr.a)(dr,Ut,gr.b().required(Ir)),Object(yr.a)(dr,_t,gr.c().when(Ut,{is:!0,then:gr.c().min(1).required(Ir).label("Overloading credits")})),Object(yr.a)(dr,Mt,gr.b().required(Ir)),Object(yr.a)(dr,Vt,gr.c().when(Rt,{is:!0,then:gr.c().required(Ir).min(1).max(4).label("Credits in winter")})),Object(yr.a)(dr,Rt,gr.b().required(Ir)),Object(yr.a)(dr,Lt,gr.c().min(0).max(7).when(Mt,{is:!0,then:gr.c().required(Ir).min(1).max(7).label("Credits in summer")})),Object(yr.a)(dr,Dt,gr.f().required(Ir)),Object(yr.a)(dr,Wt,gr.c().required(Ir).min(1)),dr)),Cr="This field is required",kr=gr.d((jr={},Object(yr.a)(jr,pt,gr.a().required(Cr)),Object(yr.a)(jr,xt,gr.c().integer().min(0).required(Cr).label("Number of general electives")),Object(yr.a)(jr,vt,gr.c().integer().min(0).label("This field")),jr)),Er=gr.d({}).concat(Sr).concat(Nr).concat(kr),Tr=(br={},Object(yr.a)(br,Gt,""),Object(yr.a)(br,Zt,""),Object(yr.a)(br,rr,""),Object(yr.a)(br,er,""),Object(yr.a)(br,tr,""),Object(yr.a)(br,nr,""),Object(yr.a)(br,Qt,[]),Object(yr.a)(br,ar,""),Object(yr.a)(br,cr,""),br),Ar=(fr={},Object(yr.a)(fr,Ut,"false"),Object(yr.a)(fr,Mt,"false"),Object(yr.a)(fr,Rt,"false"),Object(yr.a)(fr,_t,0),Object(yr.a)(fr,Lt,0),Object(yr.a)(fr,Vt,0),Object(yr.a)(fr,Dt,"1"),Object(yr.a)(fr,Wt,"1"),fr),qr=(mr={},Object(yr.a)(mr,pt,[]),Object(yr.a)(mr,xt,0),Object(yr.a)(mr,vt,0),mr),Pr=Object(i.a)(Object(i.a)(Object(i.a)({},Tr),Ar),qr);console.log(Tr);var Fr,Ur,Mr=function(e){var t=ur(0),r=t.step,n=t.back,a=t.next,c=Or(),s=hr(),o=Ue(!0),u=o.userId,l=o.standingId,d=Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)({},Pr),c),s),{},{standingId:null===l?"":l,semesterNumber:1}),j=function(){var t=Object(K.a)(B.a.mark((function t(r,n){var a,o,l,d,j,b,f,m,h;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=n.setSubmitting,console.log("Submitting: ",r),!window.confirm("Are you sure you want to submit?")){t.next=24;break}return t.prev=3,o=c.minorIds,l=c.majorId,d=c.secondMajorId,j=c.catalogId,b=c.secondCatalogId,f=r.standingId,Ce.update(u,{standingId:f}),vr(u,r.coursesIds,s.coursesIds),pr(u,r.majorId,r.catalogId,j,l),pr(u,r.secondMajorId,r.secondCatalogId,b,d),xr(u,r.minorIds,o),t.next=13,le.addAdvisingSession(Object(i.a)(Object(i.a)({},r),{},{userId:u}));case 13:return m=t.sent,h=m.advisingSessionId,t.next=17,le.generatePlan(h);case 17:le.saveAdvisingSession(h),t.next=23;break;case 20:t.prev=20,t.t0=t.catch(3),console.log("ERROR in submission: ",t.t0);case 23:e.history.replace("/advising/results");case 24:a(!1);case 25:case"end":return t.stop()}}),t,null,[[3,20]])})));return function(e,r){return t.apply(this,arguments)}}();return Object(v.jsxs)(Ze,{initialValues:d,validationSchema:Er,title:function(){switch(r){case 0:return"DISCLAIMER";case 1:return"Major Info";case 2:return"Preferences";case 3:return"Finished Courses";default:return"Advising"}}(),onSubmit:j,enableReinitialize:!0,children:[function(){switch(r){case 0:return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("p",{className:"h5",children:[Object(v.jsx)("strong",{className:"h4 clr-danger",children:"Important: "}),"This system is meant to help you with your advising but it is not perfect. You are still ",Object(v.jsx)("strong",{children:"responsible"})," to check your catalog and courses plan to ensure no issues will happen during registeration."]}),Object(v.jsx)("br",{})]});case 1:return Object(v.jsx)(or,{});case 2:return Object(v.jsx)(Yt,{});case 3:return Object(v.jsx)(At,{});default:return null}}(),Object(v.jsxs)("div",{className:"d-flex justify-content-between ",children:[r>0&&Object(v.jsx)("button",{className:"btn my-3",onClick:n,type:"button",children:"Back"}),r<3&&Object(v.jsx)("button",{className:"btn my-3 ms-auto",onClick:a,type:"button",children:"Next"}),3===r&&Object(v.jsx)(st,{label:"Generate Plan"})]})]})},Rr=function(){return Object(v.jsxs)(u.d,{children:[Object(v.jsx)(u.b,{path:O,exact:!0,component:We}),Object(v.jsx)(u.b,{path:x,component:Je}),Object(v.jsx)(u.b,{path:p,component:Mr})]})},_r=r(115),Lr=r.n(_r),Vr="password",Dr="repeatPassword",Wr=(Fr={},Object(yr.a)(Fr,Vr,""),Object(yr.a)(Fr,Dr,""),Fr),Hr="This field is required",Yr="The password must be at least ".concat(8," characters long"),zr=gr.d((Ur={},Object(yr.a)(Ur,Vr,gr.f().min(8,Yr).matches(/^\S*$/,"Password can't contain spaces").matches(/[a-zA-Z]/,"The password must have at least one letter").matches(/\d/,"Password must have at least one number").required(Hr)),Object(yr.a)(Ur,Dr,gr.f().required(Hr).oneOf([gr.e(Vr),null],"Passwords don't match")),Ur));var Jr=function(e){var t="Invalid",r="Valid",a="Validating",c=Object(n.useState)(),s=Object(J.a)(c,2),i=s[0],o=s[1],l=Object(n.useState)(a),d=Object(J.a)(l,2),j=d[0],b=d[1],f=e.location,m=e.history;Object(n.useEffect)((function(){var e=Lr.a.parse(f.search).token;console.log("Query :",e),m.replace(f.pathname),fe(e).then((function(){o(e),b(r)})).catch((function(e){console.log(e.response),b(t)}))}),[]);var h=function(){var e=Object(K.a)(B.a.mark((function e(t){var r,n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.password,e.prev=1,e.next=4,me(i,r);case 4:n=e.sent,console.log(n.data),alert("Password reset successfuly. You can login with the new password."),window.location("/login"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return function(){switch(j){case r:return Object(v.jsxs)(Ze,{initialValues:Wr,title:"Reset Password",validationSchema:zr,onSubmit:h,children:[Object(v.jsx)(rt,{name:Vr,type:"password",label:"New password"}),Object(v.jsx)(rt,{name:Dr,type:"password",label:"Repeat password"}),Object(v.jsx)(st,{})]});case t:return Object(v.jsx)(u.a,{to:{pathname:"/"}});default:return Object(v.jsx)("div",{children:"Validating your request..."})}}()};var Xr,Br,Kr=function(e){var t=gr.d({email:gr.f().email("Invalid email").required("Required")}),r=function(){var e=Object(K.a)(B.a.mark((function e(t,r){var n,a,c,s;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.email,a=r.setStatus,e.prev=2,e.next=5,he(n);case 5:c=e.sent,console.log(c.data.message),alert(c.data.message),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),(s=e.t0.response)&&s.data&&s.data.error?a({error:s.data.error}):a({error:"Unexpected error happened!"});case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,r){return e.apply(this,arguments)}}();return Object(v.jsxs)(Ze,{initialValues:{email:""},validationSchema:t,title:"Reset Password",onSubmit:r,children:[Object(v.jsx)(rt,{type:"email",name:"email",label:"AUC Email"}),Object(v.jsx)(st,{})]})},$r="email",Gr="password",Zr=(Xr={},Object(yr.a)(Xr,$r,""),Object(yr.a)(Xr,Gr,""),Xr),Qr="This field is required",en=gr.d((Br={},Object(yr.a)(Br,$r,gr.f().email("Invalid email format").required(Qr).matches(/^.+@aucegypt.edu$/,"You can use AUC email only")),Object(yr.a)(Br,Gr,gr.f().required(Qr)),Br)),tn=["setErrors","setStatus"];var rn,nn,an=function(e){var t=function(){var e=Object(K.a)(B.a.mark((function e(t,r){var n,a,c;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.setErrors,n=r.setStatus,Object(I.a)(r,tn),e.prev=1,e.next=4,Fe.login(t);case 4:window.location="/",e.next=14;break;case 7:e.prev=7,e.t0=e.catch(1),a=e.t0.response,c=a.status,!a||400!==c&&401!==c||console.log(a.data),console.log(a),n({error:a.data.error});case 14:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,r){return e.apply(this,arguments)}}();return Object(v.jsx)("div",{className:"m-auto",children:Object(v.jsxs)(Ze,{title:"Login",initialValues:Zr,validationSchema:en,onSubmit:t,children:[Object(v.jsx)(rt,{label:"AUC email",name:$r,type:"email","aria-required":"true"}),Object(v.jsx)(rt,{label:"Password",name:Gr,type:"password","aria-required":"true"}),Object(v.jsxs)("div",{className:"d-flex justify-content-between ",children:[Object(v.jsx)(o.b,{to:h,children:"Forgot password?"}),Object(v.jsxs)("p",{children:["New user?",Object(v.jsx)(o.b,{to:b,children:" Sign up"})]})]}),Object(v.jsx)("div",{children:Object(v.jsx)("p",{children:Object(v.jsx)(o.b,{to:m,children:" Resend email verification?"})})}),Object(v.jsx)(st,{label:"Login"})]})})},cn="firstName",sn="lastName",on="email",un="userId",ln="password",dn="repeatPassword",jn=function(){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{className:"d-flex",children:[Object(v.jsx)("div",{children:Object(v.jsx)(rt,{label:"First Name",name:cn,"aria-required":"true"})}),Object(v.jsx)("div",{className:"mx-3",children:Object(v.jsx)(rt,{label:"Last Name",name:sn,"aria-required":"true"})})]}),Object(v.jsx)(rt,{label:"AUC Email",name:on,type:"email","aria-required":"true"}),Object(v.jsx)(rt,{label:"AUC ID",name:un,type:"number","aria-required":"true"}),Object(v.jsx)(rt,{label:"Password",name:ln,type:"password","aria-required":"true"}),Object(v.jsx)(rt,{label:"Confirm Password",name:dn,type:"password"})]})},bn="This field is required",fn=/^[A-Za-z1-9]+$/,mn="The name can't exceed ".concat(15," characters long."),hn="Invalid name format. Name can contain letters and numbers only.",On="The password must be at least ".concat(8," characters long"),pn=gr.d((rn={},Object(yr.a)(rn,cn,gr.f().matches(fn,hn).max(15,mn).required(bn)),Object(yr.a)(rn,sn,gr.f().matches(fn,hn).max(15,mn).required(bn)),Object(yr.a)(rn,on,gr.f().email("Invalid email format").required(bn).matches(/^.+@aucegypt.edu$/i,"You can use AUC email only")),Object(yr.a)(rn,un,gr.c().integer().positive().required(bn)),Object(yr.a)(rn,ln,gr.f().min(8,On).matches(/^\S*$/,"Password can't contain spaces").matches(/[a-zA-Z]/,"The password must have at least one letter").matches(/\d/,"Password must have at least one number").required(bn)),Object(yr.a)(rn,dn,gr.f().required(bn).oneOf([gr.e(ln),null],"Passwords don't match")),rn)),xn=gr.d({}).concat(pn),vn=(nn={},Object(yr.a)(nn,cn,""),Object(yr.a)(nn,sn,""),Object(yr.a)(nn,on,""),Object(yr.a)(nn,un,""),Object(yr.a)(nn,ln,""),Object(yr.a)(nn,dn,""),nn),gn=Object(i.a)({},vn),yn=function(e){var t=function(){var t=Object(K.a)(B.a.mark((function t(r,n){var a,c,s,i;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.setStatus,t.prev=1,console.log("Subimtting Values:",r),t.next=5,Ce.register(r);case 5:alert("Account registered successfuly. Please verify your email to login."),e.history.push({pathname:m,state:{email:r.email}}),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(1),(c=t.t0.response)&&(s=c.status,i=c.data,s&&s>=400&&s<500&&a({error:i.error}),console.log(c.data)),console.log(c);case 14:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e,r){return t.apply(this,arguments)}}();return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(Ze,{validationSchema:xn,onSubmit:t,initialValues:gn,title:"Sign Up",children:[Object(v.jsx)(jn,{}),Object(v.jsx)(st,{label:"Sign Up"}),Object(v.jsx)("div",{className:"d-flex align-items-center",children:Object(v.jsxs)("p",{className:"ms-auto ",children:["Already a user? ",Object(v.jsx)(o.b,{to:j,children:"Login"})]})})]})})},wn="email",Sn=Object(yr.a)({},wn,""),In=gr.d(Object(yr.a)({},wn,gr.f().email("Invalid email format").required("This field is required").matches(/^.+@aucegypt.edu$/,"You can use AUC email only"))),Nn="Email Verification";var Cn=function(e){var t=Object(n.useState)(!1),r=Object(J.a)(t,2),a=r[0],c=r[1];if(Fe.getCurrentUser())return Object(v.jsx)(u.a,{to:{pathname:"/"}});var s=e.history.location.state;s&&s.email&&(Sn.email=s.email);var i=function(){var e=Object(K.a)(B.a.mark((function e(t,r){var n,a,c,s,i,o;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.email,a=r.setStatus,e.prev=2,e.next=5,Oe(n);case 5:c=e.sent,console.log(c),alert("Email sent successfully"),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(2),s=e.t0.response,i=s.data,o=s.status,s&&o&&o>=400&&o<500&&a({error:i.error});case 15:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,r){return e.apply(this,arguments)}}(),o=function(){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("p",{children:"Please check your email inbox to verify your email."}),Object(v.jsxs)("p",{className:"my-2",children:["If you already confirmed your email,"," ",Object(v.jsx)("a",{href:j,children:"login here"}),"."]})]})};return Object(v.jsxs)(v.Fragment,{children:[!a&&Object(v.jsxs)("div",{className:"text-center my-4",children:[Object(v.jsx)("h1",{className:"text-center mb-4 ",children:Nn}),o(),Object(v.jsxs)("p",{children:["Recieved nothing?",Object(v.jsx)("button",{type:"button",className:"btn btn-sm mx-2",onClick:function(){return c(!0)},children:"Resend"})]})]}),a?Object(v.jsxs)(Ze,{title:Nn,initialValues:Sn,validationSchema:In,onSubmit:i,children:[o(),Object(v.jsx)(rt,{label:"Email",name:wn,placeholder:"email@aucegypt.edu"}),Object(v.jsx)(st,{})]}):null]})};var kn=function(e){var t=e.history;return Object(n.useEffect)((function(){Fe.getCurrentUser()&&t.push("/")}),[t]),Object(v.jsxs)(u.d,{children:[Object(v.jsx)(u.b,{path:h,component:Kr}),Object(v.jsx)(u.b,{path:f,component:Jr}),Object(v.jsx)(u.b,{path:m,component:Cn}),Object(v.jsx)(u.b,{path:j,component:an}),Object(v.jsx)(u.b,{path:b,component:yn}),Object(v.jsx)(u.a,{to:{pathname:{NOT_FOUND_ROUTE:De}}})]})},En=["component","render"];var Tn=function(e){var t=e.component,r=e.render,n=Object(I.a)(e,En),a=Fe.getCurrentUser();return Object(v.jsx)(u.b,Object(i.a)(Object(i.a)({},n),{},{render:function(e){return a?t?Object(v.jsx)(t,Object(i.a)({},e)):r(e):Object(v.jsx)(u.a,{to:{pathname:"/login"}})}}))};var An=function(){var e=Ue();return Object(v.jsx)(o.a,{children:Object(v.jsxs)("div",{className:"page-container",children:[Object(v.jsx)(Le,{user:e}),Object(v.jsxs)(u.d,{children:[Object(v.jsx)(u.b,{path:"/",exact:!0,render:function(t){return Object(v.jsx)(g,Object(i.a)(Object(i.a)({},t),{},{user:e}))}}),Object(v.jsx)(u.b,{children:Object(v.jsx)("main",{className:"container content-wrapper",children:Object(v.jsxs)(u.d,{children:[Object(v.jsx)(Tn,{path:O,component:Rr}),Object(v.jsx)(u.b,{path:d,component:kn}),Object(v.jsx)(Tn,{path:"/me",component:Me}),Object(v.jsx)(u.b,{path:_e,component:Re}),Object(v.jsx)(u.b,{path:"/contact-us",component:y}),Object(v.jsx)(u.b,{path:"/about-us",component:U}),Object(v.jsx)(u.b,{exact:!0,path:De,component:Ve}),Object(v.jsx)(u.a,{to:{pathname:{NOT_FOUND_ROUTE:De}}})]})})}),Object(v.jsx)(u.b,{path:De,component:Ve})]}),Object(v.jsx)(R,{})]})})},qn=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,265)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;r(e),n(e),a(e),c(e),s(e)}))};r(259);console.log(Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ENV:"production",REACT_APP_API_URL:"http://10.7.60.113:5000/api"})),s.a.render(Object(v.jsx)(a.a.StrictMode,{children:Object(v.jsx)(An,{})}),document.getElementById("root")),qn()}},[[260,1,2]]]);
//# sourceMappingURL=main.4e999ee8.chunk.js.map